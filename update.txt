Key Points

Chatterbox requires PyTorch ≥2.4 (ideally nightly for Apple Silicon MPS full support). Your current setup uses MLX-Whisper (Apple’s MLX framework), which conflicts with PyTorch — you cannot run both MLX and PyTorch models in the same environment.
Solution: Drop MLX-Whisper and revert to Faster-Whisper with PyTorch + MPS. This enables Chatterbox + Piper + Faster-Whisper in one PyTorch-native, MPS-accelerated environment on M1 Pro.
Chatterbox + Piper dependency alignment: Fully compatible — both run via PyTorch (Chatterbox) and ONNX (Piper), no conflicts.
Slovak/Czech TTS: Chatterbox supports fine-tuning; a Czech (cs) fine-tuned model exists on Hugging Face. You can fine-tune Chatterbox on Slovak using ~10–30 min of SK audio in <2 hours on M1 Pro.
Final Stack:

STT: faster-whisper (PyTorch + CTranslate2 + MPS)
MT: SeamlessM4T-v2 or NLLB-200 (Transformers + PyTorch)
TTS: chatterbox-tts (default, cloning) + piper-tts (fast, CZ native)
Framework: PyTorch 2.5+ (nightly MPS) → unified, fast, free, local




Updated & Fixed requirements.txt (M1 Pro Compatible)
txt# === CORE FRAMEWORK (PyTorch + MPS) ===
torch==2.5.0
torchaudio==2.5.0
torchvision==0.20.0
--extra-index-url https://download.pytorch.org/whl/nightly/cpu
# Use nightly if stable lacks full MPS: pip install --pre torch torchvision torchaudio --index-url https://download.pytorch.org/whl/nightly/cpu

# === TTS MODELS ===
chatterbox-tts==0.1.3
piper-tts==1.3.0

# === STT: Faster-Whisper (PyTorch + CTranslate2 + MPS) ===
faster-whisper==1.2.0
ctranslate2>=4.0.0

# === MT: SeamlessM4T v2 or NLLB (Hugging Face Transformers) ===
transformers==4.46.3
sentencepiece==0.2.1
accelerate==0.26.0
bitsandbytes>=0.43.0  # For 8-bit quantization

# === AUDIO & UTILS ===
librosa==0.11.0
soundfile==0.13.1
numpy==1.26.4
scipy==1.13.1
numba==0.60.0
av==15.1.0

# === COMMON DEPENDENCIES ===
tokenizers==0.20.3
tqdm==4.67.1
huggingface-hub==0.36.0
safetensors==0.5.3
pyyaml==6.0.3
regex==2025.10.23
requests==2.32.5
packaging==25.0
jinja2==3.1.6
markupsafe==3.0.3
typing-extensions==4.15.0
filelock==3.19.1
fsspec==2025.10.0

# === WEB / API ===
fastapi==0.120.3
uvicorn[standard]==0.38.0
websockets==12.0

# === ONNX Runtime (for Piper) ===
onnxruntime==1.19.2

# === Optional: Pre-commit, etc. ===
pre-commit==4.3.0

Remove from environment: mlx, mlx-whisper → conflicts with PyTorch


How to Install (Step-by-Step for M1 Pro)
bash# 1. Create fresh env
python3 -m venv venv
source venv/bin/activate

# 2. Install PyTorch with MPS (nightly if needed)
pip install --pre torch torchvision torchaudio --index-url https://download.pytorch.org/whl/nightly/cpu

# 3. Install requirements
pip install -r requirements.txt

# 4. Verify MPS
python -c "import torch; print(torch.backends.mps.is_available())"  # Should print: True

Integrate Chatterbox (Code Snippet)
pythonfrom chatterbox import ChatterboxTTS
import soundfile as sf
import torch

# Initialize (MPS auto-detected)
device = "mps" if torch.backends.mps.is_available() else "cpu"
tts = ChatterboxTTS.from_pretrained("resemble-ai/chatterbox", device=device)

# Zero-shot cloning + synthesis
reference_audio = "test/Voice-Training.wav"  # 5–10 sec
text = "Dobrý deň, toto je preložená reč v reálnom čase."

audio = tts.synthesize(
    text=text,
    voice=reference_audio,  # Zero-shot cloning
    speed=1.0,
    emotion="neutral"
)

sf.write("output_sk.wav", audio, samplerate=24000)

Fine-Tune Chatterbox for Slovak (CZ Base → SK)

Start from Czech model (exists on HF):
→ resemble-ai/chatterbox-cs (community fine-tune)
Prepare dataset:

10–30 min of clear Slovak speech (your voice or public data)
Format: wav + text transcription


Fine-tune script (adapted from Resemble AI):

bashgit clone https://github.com/resemble-ai/chatterbox
cd chatterbox
pip install -e .
python scripts/finetune.py \
  --base_model resemble-ai/chatterbox-cs \
  --data_dir ./slovak_dataset \
  --output_dir ./chatterbox-sk \
  --epochs 5 \
  --device mps
→ ~1.5 hours on M1 Pro, results in Slovak-optimized model with cloning.

Final System Flow (Latency <10s)
#mermaid-diagram-mermaid-hh3i0g3{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-diagram-mermaid-hh3i0g3 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-diagram-mermaid-hh3i0g3 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-diagram-mermaid-hh3i0g3 .error-icon{fill:#552222;}#mermaid-diagram-mermaid-hh3i0g3 .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-mermaid-hh3i0g3 .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-mermaid-hh3i0g3 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-mermaid-hh3i0g3 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-mermaid-hh3i0g3 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-mermaid-hh3i0g3 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-mermaid-hh3i0g3 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-mermaid-hh3i0g3 .marker{fill:#666;stroke:#666;}#mermaid-diagram-mermaid-hh3i0g3 .marker.cross{stroke:#666;}#mermaid-diagram-mermaid-hh3i0g3 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-diagram-mermaid-hh3i0g3 p{margin:0;}#mermaid-diagram-mermaid-hh3i0g3 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000000;}#mermaid-diagram-mermaid-hh3i0g3 .cluster-label text{fill:#333;}#mermaid-diagram-mermaid-hh3i0g3 .cluster-label span{color:#333;}#mermaid-diagram-mermaid-hh3i0g3 .cluster-label span p{background-color:transparent;}#mermaid-diagram-mermaid-hh3i0g3 .label text,#mermaid-diagram-mermaid-hh3i0g3 span{fill:#000000;color:#000000;}#mermaid-diagram-mermaid-hh3i0g3 .node rect,#mermaid-diagram-mermaid-hh3i0g3 .node circle,#mermaid-diagram-mermaid-hh3i0g3 .node ellipse,#mermaid-diagram-mermaid-hh3i0g3 .node polygon,#mermaid-diagram-mermaid-hh3i0g3 .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-diagram-mermaid-hh3i0g3 .rough-node .label text,#mermaid-diagram-mermaid-hh3i0g3 .node .label text,#mermaid-diagram-mermaid-hh3i0g3 .image-shape .label,#mermaid-diagram-mermaid-hh3i0g3 .icon-shape .label{text-anchor:middle;}#mermaid-diagram-mermaid-hh3i0g3 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-diagram-mermaid-hh3i0g3 .rough-node .label,#mermaid-diagram-mermaid-hh3i0g3 .node .label,#mermaid-diagram-mermaid-hh3i0g3 .image-shape .label,#mermaid-diagram-mermaid-hh3i0g3 .icon-shape .label{text-align:center;}#mermaid-diagram-mermaid-hh3i0g3 .node.clickable{cursor:pointer;}#mermaid-diagram-mermaid-hh3i0g3 .root .anchor path{fill:#666!important;stroke-width:0;stroke:#666;}#mermaid-diagram-mermaid-hh3i0g3 .arrowheadPath{fill:#333333;}#mermaid-diagram-mermaid-hh3i0g3 .edgePath .path{stroke:#666;stroke-width:2.0px;}#mermaid-diagram-mermaid-hh3i0g3 .flowchart-link{stroke:#666;fill:none;}#mermaid-diagram-mermaid-hh3i0g3 .edgeLabel{background-color:white;text-align:center;}#mermaid-diagram-mermaid-hh3i0g3 .edgeLabel p{background-color:white;}#mermaid-diagram-mermaid-hh3i0g3 .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-diagram-mermaid-hh3i0g3 .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-diagram-mermaid-hh3i0g3 .cluster rect{fill:hsl(0, 0%, 98.9215686275%);stroke:#707070;stroke-width:1px;}#mermaid-diagram-mermaid-hh3i0g3 .cluster text{fill:#333;}#mermaid-diagram-mermaid-hh3i0g3 .cluster span{color:#333;}#mermaid-diagram-mermaid-hh3i0g3 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(-160, 0%, 93.3333333333%);border:1px solid #707070;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-diagram-mermaid-hh3i0g3 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#000000;}#mermaid-diagram-mermaid-hh3i0g3 rect.text{fill:none;stroke-width:0;}#mermaid-diagram-mermaid-hh3i0g3 .icon-shape,#mermaid-diagram-mermaid-hh3i0g3 .image-shape{background-color:white;text-align:center;}#mermaid-diagram-mermaid-hh3i0g3 .icon-shape p,#mermaid-diagram-mermaid-hh3i0g3 .image-shape p{background-color:white;padding:2px;}#mermaid-diagram-mermaid-hh3i0g3 .icon-shape rect,#mermaid-diagram-mermaid-hh3i0g3 .image-shape rect{opacity:0.5;background-color:white;fill:white;}#mermaid-diagram-mermaid-hh3i0g3 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}High qualityLow latencyAudio Input
(Blackhole 2ch)Faster-Whisper
MPS + int8SeamlessM4T v2
Streaming MTLoad?Chatterbox
Zero-shot clonePiper CZ
Native fastOutput Audio



































ComponentModelLatency (M1 Pro)Slovak SupportSTTFaster-Whisper~800ms / 3sYes (Whisper large)MTSeamlessM4T v2~500msYes (SK)TTS (Default)Chatterbox<200msFine-tuned SKTTS (Fast)Piper CZ<150msCZ (close to SK)

Updated Project Description Snippet (TTS Section)
markdown### 2. Dual-Model Text-to-Speech (TTS) System
| Model | Role | Latency | Cloning | Slovak Support |
|-------|------|---------|---------|----------------|
| **Chatterbox (Default)** | High-quality, personalized | **<200 ms** | **Zero-shot** | **Fine-tuned on SK** (from CZ base) |
| **Piper** | Ultra-fast fallback | **<150 ms** | Pre-trained voices | **CZ native** (phonetically close) |

- **Chatterbox** enables **zero-shot voice cloning** and is **fine-tuned on Slovak** using a Czech base model and 15–30 min of target speech.
- **Piper** provides **instant Czech synthesis** as a low-latency fallback.

Key Citations:

Chatterbox GitHub – PyTorch + MPS
Chatterbox Czech Fine-tune (HF)