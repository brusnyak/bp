alright, now the ui is good. time to get back to backend. can you please run the diagnostic, outline potential optimizations? specifically i want to create a new task where we will tackle this error when i start the programm the mic input level is not picking up my speech, we will have to fix that.

and then optimize the entire project to:
1. be better at listening, to pick up only my voice and not the person that speaks back to me in the conference.
2. the stt is better picking up my speech that i don't have to speak like some dictor.
3. the overall latency with piper is better, we have to tackle few scenarios with testing:
a. i speak the sentance and it translates
b. when i speak long, piper chunks my speech properly and povides translation with minimal latency and increadible accuracy that sounds good like my speech


further more, we will have to revisit current requirements, see what's working and why.

then consider how can we intagreate 2nd tts model so it would support voice cloning, not invoke any conflicts, and have great latency with the voice cloning based on the trained voices we have.




terminal:
conda activate BP
(base) yegor@tourist BP % conda activate BP
(BP) yegor@tourist BP % conda activate BP
(BP) yegor@tourist BP % python app.py    
/Users/yegor/.pyenv/versions/3.10.13/lib/python3.10/site-packages/webrtcvad.py:1: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  import pkg_resources
INFO:     Started server process [62677]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on https://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:58970 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:58970 - "GET /ui/style.css HTTP/1.1" 200 OK
INFO:     127.0.0.1:58972 - "GET /ui/script.js HTTP/1.1" 200 OK
INFO:     127.0.0.1:58972 - "GET /list_speaker_voices HTTP/1.1" 200 OK
Speaker voice file renamed from recorded_voice_1762598249273.wav to test.wav
INFO:     127.0.0.1:59022 - "POST /rename_speaker_voice HTTP/1.1" 200 OK
INFO:     127.0.0.1:59022 - "GET /list_speaker_voices HTTP/1.1" 200 OK
INFO:     127.0.0.1:59022 - "GET /list_speaker_voices HTTP/1.1" 200 OK
Speaker voice file 'recorded_voice_1762597325010.wav' deleted successfully.
INFO:     127.0.0.1:59060 - "POST /delete_speaker_voice HTTP/1.1" 200 OK
INFO:     127.0.0.1:59060 - "GET /list_speaker_voices HTTP/1.1" 200 OK
INFO:     127.0.0.1:59060 - "GET /list_speaker_voices HTTP/1.1" 200 OK
Speaker voice file 'recorded_voice_1762597823993.wav' deleted successfully.
INFO:     127.0.0.1:59060 - "POST /delete_speaker_voice HTTP/1.1" 200 OK
INFO:     127.0.0.1:59060 - "GET /list_speaker_voices HTTP/1.1" 200 OK
App: Received initialization request: source_lang=en, target_lang=sk, tts_model_choice=piper
Backend: Initializing models...
Backend: Initializing FasterWhisperSTT...
FasterWhisperSTT initialized with model_size=large-v3, device=auto, compute_type=int8
Backend: FasterWhisperSTT initialized.
Backend: Initializing CTranslate2MT for en-sk...
CTranslate2MT: Using specified device: cpu.
CTranslate2MT initialized with model_path=ct2_models/Helsinki-NLP--opus-mt-en-sk, device=cpu
Backend: CTranslate2MT initialized for en-sk on CPU (MPS fallback).
Backend: Debugging Piper paths - ONNX: /Users/yegor/Documents/STU/BP/backend/tts/piper_models/sk_SK-lili-medium.onnx, JSON: /Users/yegor/Documents/STU/BP/backend/tts/piper_models/sk_SK-lili-medium.onnx.json
Backend: Attempting to initialize PiperTTS with model_id=sk_SK-lili-medium
PiperTTS: Attempting to load model 'sk_SK-lili-medium'.
PiperTTS: Expected ONNX model path: /Users/yegor/Documents/STU/BP/backend/tts/piper_models/sk_SK-lili-medium.onnx
PiperTTS: Expected JSON config path: /Users/yegor/Documents/STU/BP/backend/tts/piper_models/sk_SK-lili-medium.onnx.json
PiperTTS: os.path.exists(onnx_model_path): True
PiperTTS: os.path.exists(json_config_path): True
PiperTTS: MPS device detected and will be used.
PiperTTS initialized with model: sk_SK-lili-medium, device: mps, speaker_id: 0
Backend: PiperTTS initialized with sk_SK-lili-medium.
Backend: Initializing WebRTC VAD with aggressiveness=2...
Backend: WebRTC VAD initialized.
Backend: All models initialized (or attempted to initialize).
App: Broadcasting models_loading_status: fully_loaded=True
INFO:     127.0.0.1:59060 - "POST /initialize?source_lang=en&target_lang=sk&tts_model_choice=piper HTTP/1.1" 200 OK
INFO:     127.0.0.1:59115 - "WebSocket /ws" [accepted]
App: WebSocket accepted from 127.0.0.1:59115
App: Sending personal models_loading_status to new websocket: fully_loaded=True
INFO:     connection open
Client connected from 127.0.0.1:59115
Backend: Initializing CTranslate2MT for en-ru...
CTranslate2MT: Using specified device: cpu.
CTranslate2MT initialized with model_path=ct2_models/Helsinki-NLP--opus-mt-en-ru, device=cpu
Backend: CTranslate2MT initialized for en-ru on CPU (MPS fallback).
Translated 'Reading this statement, I agree to provide my voice for cloning purposes. My voice will be used to synthesize translated speech within this application.' (en) to 'Читая это заявление, я согласен дать свой голос для целей клонирования, и мой голос будет использован для синтеза переведенной речи в этом приложении.' (ru) in 0.4313s
INFO:     127.0.0.1:59149 - "POST /translate_phrase HTTP/1.1" 200 OK
INFO:     127.0.0.1:59149 - "GET /ui/audio-processor.js HTTP/1.1" 200 OK
Speaker voice file saved to speaker_voices/recorded_voice_1762599252499.wav
INFO:     127.0.0.1:59211 - "POST /upload_speaker_voice HTTP/1.1" 200 OK
Speaker voice file renamed from recorded_voice_1762599252499.wav to Ru_Me.wav
INFO:     127.0.0.1:59257 - "POST /rename_speaker_voice HTTP/1.1" 200 OK
INFO:     127.0.0.1:59257 - "GET /list_speaker_voices HTTP/1.1" 200 OK
INFO:     127.0.0.1:59257 - "GET /list_speaker_voices HTTP/1.1" 200 OK
INFO:     127.0.0.1:59296 - "GET /ui/audio-processor.js HTTP/1.1" 200 OK
Received 'start' command. Beginning transcription.
An unexpected error occurred: name 'mt_model' is not defined
Client 127.0.0.1:59115 handler finished.
^CINFO:     Shutting down
INFO:     connection closed
INFO:     Waiting for connections to close. (CTRL+C to force quit)
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [62677]
(BP) yegor@tourist BP % 